"use strict";(self.webpackChunkredux_photo_app=self.webpackChunkredux_photo_app||[]).push([[755],{123:function(e,o,n){n.r(o),n.d(o,{default:function(){return z}});n(2791);var t=n(8931),a=n(6203),l=n(9434),r=n(184);function i(e){var o=e.title,n=e.backgroundUrl,t=n?{backgroundImage:"url(".concat(n,")")}:{};return(0,r.jsx)("section",{className:"banner",style:t,children:(0,r.jsx)("h1",{className:"banner__title",children:o})})}i.defaultProps={title:"",backgroundUrl:""};var s=i,c=n(5705),d=n(605),u=[{value:1,label:"Technology"},{value:2,label:"Education"},{value:3,label:"Nature"},{value:4,label:"Animals"},{value:5,label:"Styles"}],h={ORANGE_BG:n.p+"static/media/orange-bg.a98c2734b4299e305b7f.jpg",BLUE_BG:n.p+"static/media/blue-bg.93b683dcd7c104e108ed.jpg",COLORFUL_BG:n.p+"static/media/colorful-bg.95c0fb342777f6d1bc88.jpg",PINK_BG:n.p+"static/media/pink-bg.d6dafc0aa74a3594ed43.jpg"},p=n(1413);var m=function(e){var o=e.field,n=e.form,t=e.type,a=e.label,l=e.placeholder,i=(e.disabled,o.name),s=n.errors,u=n.touched,h=s[i]&&u[i];return(0,r.jsxs)(d.cw,{children:[a&&(0,r.jsx)(d.__,{for:i,children:a}),(0,r.jsx)(d.II,(0,p.Z)((0,p.Z)({id:i},o),{},{type:t,placeholder:l,invalid:h})),(0,r.jsx)(c.Bc,{name:i,component:d.AG})]})},v=n(4165),x=n(5861);j.defaultProps={name:"",imageUrl:"",onImageUrlChange:null,onRandomButtonBlur:null};var f=function(){var e=Math.trunc(2e3*Math.random());return"https://picsum.photos/id/".concat(e,"/300/300")};function j(e){var o=e.name,n=e.imageUrl,t=e.onImageUrlChange,a=e.onRandomButtonBlur,l=function(){var e=(0,x.Z)((0,v.Z)().mark((function e(){var o;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(o=f(),t(o));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:"random-photo",children:[(0,r.jsx)("div",{className:"random-photo__button",children:(0,r.jsx)(d.zx,{outline:!0,name:o,color:"primary",onBlur:a,onClick:l,children:"Random a photo"})}),(0,r.jsx)("div",{className:"random-photo__photo",children:n&&(0,r.jsx)("img",{src:n,alt:"Ooops ... not found. Please click random again!",onError:l})})]})}var b=j;function g(e){var o=e.field,n=e.form,t=e.label,a=o.name,l=o.value,i=o.onBlur,s=n.errors,u=n.touched,h=s[a]&&u[a];return(0,r.jsxs)(d.cw,{children:[t&&(0,r.jsx)(d.__,{for:a,children:t}),(0,r.jsx)(b,{name:a,imageUrl:l,onImageUrlChange:function(e){n.setFieldValue(a,e)},onRandomButtonBlur:i}),(0,r.jsx)("div",{className:h?"is-invalid":""}),(0,r.jsx)(c.Bc,{name:a,component:d.AG})]})}g.defaultProps={label:""};var _=g,k=n(2081);function C(e){var o=e.field,n=e.form,t=e.options,a=e.label,l=e.placeholder,i=e.disabled,s=o.name,u=o.value,h=n.errors,m=n.touched,v=h[s]&&m[s];console.log(m[s]);var x=t.find((function(e){return e.value===u}));return(0,r.jsxs)(d.cw,{children:[a&&(0,r.jsx)(d.__,{for:s,children:a}),(0,r.jsx)(k.ZP,(0,p.Z)((0,p.Z)({id:s},o),{},{value:x,onChange:function(e){var n=e?e.value:e,t={target:{name:s,value:n}};o.onChange(t)},placeholder:l,isDisabled:i,options:t,className:v?"is-invalid":""})),(0,r.jsx)(c.Bc,{name:s,component:d.AG})]})}C.defaultProps={label:"",placeholder:"",disabled:!1,options:[]};var N=C,y=n(132);function P(e){var o=e.initialValues,n=e.isAddMode,t=y.Ry().shape({title:y.Z_().required("This field is required"),categoryId:y.Rx().required("This field is required").nullable(),photo:y.Z_().required("This field is required")});return(0,r.jsx)(c.J9,{initialValues:o,validationSchema:t,onSubmit:e.onSubmit,children:function(e){e.values,e.errors,e.touched;var o=e.isSubmitting;return(0,r.jsxs)(c.l0,{children:[(0,r.jsx)(c.Rt,{name:"title",component:m,label:"Title",placeholder:"Eg: Wow nature ..."}),(0,r.jsx)(c.Rt,{name:"categoryId",component:N,label:"Category",placeholder:"What's your photo category?",options:u}),(0,r.jsx)(c.Rt,{name:"photo",component:_,label:"Photo"}),(0,r.jsxs)(d.cw,{children:[(0,r.jsx)(d.zx,{type:"submit",color:n?"primary":"success",children:n?"Add to album":"Edit picture"}),o&&(0,r.jsx)(d.$j,{size:"sm"})]})]})}})}P.defaultProps={onSubmit:null};var R=P,B=n(2777);var E=function(e){var o=(0,l.I0)(),n=(0,t.k6)(),a=(0,t.UO)().photoId,i=!a,c=(0,l.v9)((function(e){return e.photos.find((function(e){return e.id===+a}))})),d=i?{title:"",categoryId:null,photo:""}:c;return(0,r.jsxs)("div",{className:"photo-edit",children:[(0,r.jsx)(s,{title:"Pick your amazing photo \ud83d\ude0e"}),(0,r.jsx)("div",{className:"photo-edit__form",children:(0,r.jsx)(R,{isAddMode:i,initialValues:d,onSubmit:function(e){if(i){var t=(0,B.ZE)(e);o(t)}else{var a=(0,B.tU)(e);o(a)}n.push("/photos")}})})]})},I=n(1523);function U(e){var o=e.photo,n=e.onEditClick,t=e.onRemoveClick;return(0,r.jsxs)("div",{className:"photo",children:[(0,r.jsx)("img",{src:o.photo,alt:o.title}),(0,r.jsxs)("div",{className:"photo__overlay",children:[(0,r.jsx)("h3",{className:"photo__title",children:o.title}),(0,r.jsxs)("div",{className:"photo__actions",children:[(0,r.jsx)("div",{children:(0,r.jsx)(d.zx,{outline:!0,size:"sm",color:"light",onClick:function(){n&&n(o)},children:"Edit"})}),(0,r.jsx)("div",{children:(0,r.jsx)(d.zx,{outline:!0,size:"sm",color:"danger",onClick:function(){t&&t(o)},children:"Remove"})})]})]})]})}U.defaultProps={photo:{},onEditClick:null,onRemoveClick:null};var A=U;function Z(e){var o=e.photoList,n=e.onPhotoEditClick,t=e.onPhotoRemoveClick;return(0,r.jsx)(d.X2,{children:o.map((function(e){return(0,r.jsx)(d.JX,{xs:"12",md:"6",lg:"3",children:(0,r.jsx)(A,{photo:e,onEditClick:n,onRemoveClick:t})},e.title)}))})}Z.defaultProps={photoList:[],onPhotoEditClick:null,onPhotoRemoveClick:null};var w=Z;var G=function(){var e=(0,l.v9)((function(e){return e.photos})),o=(0,l.I0)(),n=(0,t.k6)();return(0,r.jsxs)("div",{className:"photo-main",children:[(0,r.jsx)(s,{title:"Your awesome photos \ud83c\udf89",backgroundUrl:h.PINK_BG}),(0,r.jsxs)(d.W2,{className:"text-center",children:[(0,r.jsx)("div",{className:"py-5",children:(0,r.jsx)(I.rU,{to:"/photos/add",children:"Add new photo"})}),(0,r.jsx)(w,{photoList:e,onPhotoEditClick:function(e){console.log("Edit: ",e);var o="/photos/".concat(e.id);n.push(o)},onPhotoRemoveClick:function(e){console.log("Remove: ",e);var n=e.id,t=(0,B.Nm)(n);o(t)}})]})]})};n(8595);var z=function(e){var o=(0,t.$B)(),n=(o.path,o.url);return(0,r.jsxs)(t.rs,{children:[(0,r.jsx)(t.AW,{exact:!0,path:n,component:G}),(0,r.jsx)(t.AW,{path:"".concat(n,"/add"),component:E}),(0,r.jsx)(t.AW,{path:"".concat(n,"/:photoId"),component:E}),(0,r.jsx)(t.AW,{component:a.Z})]})}}}]);
//# sourceMappingURL=755.5cd12f9a.chunk.js.map